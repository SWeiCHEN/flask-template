{% extends 'base.html' %}


{% block app_content %}

<div class="row">
    <div class="col-md-8 offset-md-2 col-lg-6 offset-lg-3">
        <!-- using flask-bootstrap -->
        {#
        {% import 'bootstrap/wtf.html' as wtf %}
        {{ wtf.quick.form(form) }}
        #}
        <div class="login-form bg-light mt-4 p-4">
            <form action="" method="post" class="row g-3">
                {{ form.csrf_token }}
                <h4>Welcome Back</h4>

                <!-- username -->
                {% if form.username.errors %}
                <div class="col-12">
                    <label class="fw-bold text-danger">Username</label>
                    <input type="text" name="username" class="form-control border border-danger" placeholder="Username">
                </div>
                <ul style="margin-bottom:-16px;">
                    {% for error in form.username.errors %}
                    <li class=" alert alert-danger alert-dismissible fade show py-2">{{ error }}</li>
                    {% endfor %}
                </ul>
                {% else %}
                <div class="col-12">
                    <label>Username</label>
                    <input type="text" name="username" class="form-control" placeholder="Username">
                </div>
                {% endif %}

                <!-- password -->
                {% if form.password.errors %}
                <div class="col-12">
                    <label class="fw-bold text-danger">Password</label>
                    <input type="password" name="password" class="form-control border border-danger" placeholder="Password">
                </div>
                <ul style="margin-bottom:-16px;">
                    {% for error in form.password.errors %}
                    <li class=" alert alert-danger alert-dismissible fade show">{{ error }}</li>
                    {% endfor %}
                </ul>
                {% else %}
                <div class="col-12">
                    <label>Password</label>
                    <input type="password" name="password" class="form-control" placeholder="Password">
                </div>
                {% endif %}

                <div class="row">
                    <!-- remember me -->
                    <div class="col-6">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="rememberMe">
                            <label class="form-check-label" for="rememberMe"> Remember me</label>
                        </div>
                    </div>

                    <!-- forgot password -->
                    <div class="col-6 text-end">
                        <a class="mb-0" href="{{ url_for('forgot_password') }}"> Forgot Password?</a>
                    </div>
                </div>
                <!-- valid not a robot -->
                <!-- need go to "https://www.google.com/recaptcha/admin/create" register 127.0.0.1
                1. choose reCAPTCHA v2 'I'm not a robot'
                2. copy KEY to config.py -->
                {#
                {{ form.recaptcha }}
                #}

                <!-- sign in button -->
                <div class="d-grid gap-2 col-5 mx-auto">
                    <button type="submit" class="btn btn-dark rounded-pill">Sign in</button>
                </div>
            </form>
            <hr class="mt-4">
            <div class="col-12">
                <p class="text-center mb-0">Have not account yet? <a href="{{ url_for('sign_up') }}">Sign up</a></p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
